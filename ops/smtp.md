# သင့်ကိုယ်ပိုင် SMTP မေးလ်ပို့ခြင်းဆာဗာကို တည်ဆောက်ပါ။

## အဟော

SMTP သည် အောက်ပါကဲ့သို့သော cloud ရောင်းချသူများထံမှ ဝန်ဆောင်မှုများကို တိုက်ရိုက်ဝယ်ယူနိုင်သည်-

* [Amazon SES SMTP](https://docs.aws.amazon.com/ses/latest/dg/send-email-smtp.html)
* [Ali cloud email တွန်းပို့သည်။](https://www.alibabacloud.com/help/directmail/latest/three-mail-sending-methods)

သင့်ကိုယ်ပိုင် မေးလ်ဆာဗာကိုလည်း တည်ဆောက်နိုင်သည် - အကန့်အသတ်မရှိ ပေးပို့ခြင်း၊ အလုံးစုံကုန်ကျစရိတ်သက်သာခြင်း။

အောက်တွင် ကျွန်ုပ်တို့သည် ကျွန်ုပ်တို့၏ကိုယ်ပိုင်မေးလ်ဆာဗာကို တည်ဆောက်ပုံအဆင့်ဆင့်ကို သရုပ်ပြထားပါသည်။

## ဆာဗာရွေးချယ်မှု

ကိုယ်တိုင်လက်ခံလုပ်ဆောင်ထားသော SMTP ဆာဗာသည် ဆိပ်ကမ်း 25၊ 456 နှင့် 587 ပွင့်သော အများသူငှာ IP လိုအပ်သည်။

အများအားဖြင့် အသုံးများသော အများသူငှာ cloud များသည် ပုံမှန်အားဖြင့် အဆိုပါ port များကို ပိတ်ဆို့ထားပြီး အလုပ်အမိန့်ထုတ်ခြင်းဖြင့် ၎င်းတို့ကို ဖွင့်ရန် ဖြစ်နိုင်သော်လည်း ၎င်းသည် အလွန်ခက်ခဲပါသည်။

ဤဆိပ်ကမ်းများဖွင့်ထားပြီး ပြောင်းပြန်ဒိုမိန်းအမည်များ သတ်မှတ်ခြင်းကို ပံ့ပိုးပေးသည့် အိမ်ရှင်ထံမှ ဝယ်ယူရန် အကြံပြုပါသည်။

ဒီနေရာမှာ [Contabo ကို](https://contabo.com) အကြံပြုချင်ပါတယ်။

Contabo သည် အလွန်အပြိုင်အဆိုင်စျေးနှုန်းများဖြင့် ၂၀၀၃ ခုနှစ်တွင် တည်ထောင်ခဲ့ပြီး ဂျာမနီ၊ မြူးနစ်တွင် အခြေစိုက်သည့် hosting ဝန်ဆောင်မှုပေးသူဖြစ်သည်။

ဝယ်ယူသည့်ငွေကြေးအဖြစ် ယူရိုကို သင်ရွေးချယ်ပါက၊ စျေးနှုန်းသည် သက်သာလိမ့်မည် (8GB memory နှင့် CPU 4 ခုပါသော ဆာဗာတစ်ခုသည် တစ်နှစ်လျှင် 529 ယွမ်ခန့် ကျသင့်မည်ဖြစ်ပြီး ကနဦးတပ်ဆင်ခမှာ တစ်နှစ်အခမဲ့ဖြစ်သည်)။

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/UoAQkwY.webp)

အော်ဒါမှာယူသည့်အခါ `prefer AMD` မှတ်ချက်ပေး၍ AMD CPU ပါသော ဆာဗာသည် စွမ်းဆောင်ရည်ပိုကောင်းလာမည်ဖြစ်သည်။

အောက်ဖော်ပြပါတွင်၊ သင်၏ကိုယ်ပိုင်မေးလ်ဆာဗာကို မည်သို့တည်ဆောက်ရမည်ကို သရုပ်ပြရန် Contabo ၏ VPS ကို နမူနာအဖြစ် ယူပါမည်။

## Ubuntu စနစ်ဖွဲ့စည်းမှု

ဤနေရာတွင် operating system သည် Ubuntu 22.04 ဖြစ်သည်။

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/smpIu1F.webp)

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/m7Mwjwr.webp)

ssh ပေါ်ရှိ server သည် `Welcome to TinyCore 13!` (အောက်ပုံတွင်ပြထားသည့်အတိုင်း) ၎င်းသည် system ကိုမထည့်သွင်းရသေးကြောင်းဆိုလိုသည်။ ကျေးဇူးပြု၍ ssh ချိတ်ဆက်မှုကို ဖြုတ်ပြီး ထပ်မံဝင်ရောက်ရန် မိနစ်အနည်းငယ်စောင့်ပါ။

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/-qKACz9.webp)

`Welcome to Ubuntu 22.04.1 LTS` ပေါ်လာသောအခါ၊ အစပြုခြင်း ပြီးသွားကာ အောက်ပါအဆင့်များအတိုင်း ဆက်လက်လုပ်ဆောင်နိုင်ပါသည်။

### [ချန်လှပ်ထားနိုင်သည်] ဖွံ့ဖြိုးတိုးတက်မှုပတ်ဝန်းကျင်ကို စတင်ပါ။

ဤအဆင့်သည် ရွေးချယ်နိုင်သည်။

အဆင်ပြေစေရန်အတွက်၊ ကျွန်ုပ်သည် ubuntu ဆော့ဖ်ဝဲလ်၏ တပ်ဆင်မှုနှင့် စနစ်ဖွဲ့စည်းပုံတို့ကို [github.com/wactax/ops.os/tree/main/ubuntu](https://github.com/wactax/ops.os/tree/main/ubuntu) တွင် ထည့်သွင်းထားသည်။

တစ်ချက်နှိပ်ရုံဖြင့် ထည့်သွင်းရန် အောက်ပါ command ကို run ပါ။

```
bash <(curl -s https://raw.githubusercontent.com/wactax/ops.os/main/ubuntu/boot.sh)
```

တရုတ်အသုံးပြုသူများ၊ ကျေးဇူးပြု၍ အောက်ပါ command ကိုအစား အသုံးပြုပါ၊ ဘာသာစကား၊ အချိန်ဇုန် စသည်တို့ကို အလိုအလျောက် သတ်မှတ်ပေးပါမည်။

```
CN=1 bash <(curl -s https://ghproxy.com/https://raw.githubusercontent.com/wactax/ops.os/main/ubuntu/boot.sh)
```

### Contabo သည် IPV6 ကိုဖွင့်ထားသည်။

SMTP သည် IPV6 လိပ်စာများဖြင့် အီးမေးလ်များ ပေးပို့နိုင်စေရန် IPV6 ကို ဖွင့်ပါ။

`/etc/sysctl.conf` ကို တည်းဖြတ်ပါ။

အောက်ပါလိုင်းများကို ပြင်ဆင်ပါ သို့မဟုတ် ထည့်ပါ။

```
net.ipv6.conf.all.disable_ipv6 = 0
net.ipv6.conf.default.disable_ipv6 = 0
net.ipv6.conf.lo.disable_ipv6 = 0
```

[contabo သင်ခန်းစာကို လိုက်နာပါ- သင့်ဆာဗာသို့ IPv6 ချိတ်ဆက်မှုကို ထည့်သွင်းခြင်း။](https://contabo.com/blog/adding-ipv6-connectivity-to-your-server/)

`/etc/netplan/01-netcfg.yaml` ကိုတည်းဖြတ်ပါ၊ အောက်ပါပုံတွင်ပြထားသည့်အတိုင်း လိုင်းအနည်းငယ်ထည့်ပါ (Contabo VPS မူရင်းဖွဲ့စည်းပုံဖိုင်တွင် ဤလိုင်းများရှိပြီး၊ ၎င်းတို့ကို မှတ်ချက်မပေးဘဲ)။

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/5MEi41I.webp)

ထို့နောက် မွမ်းမံထားသော ဖွဲ့စည်းမှုပုံစံကို အကျိုးသက်ရောက်စေရန် `netplan apply` ။

ပြင်ဆင်သတ်မှတ်မှု အောင်မြင်ပြီးနောက်၊ သင်သည် သင်၏ ပြင်ပကွန်ရက်၏ ipv6 လိပ်စာကို ကြည့်ရှုရန် `curl 6.ipw.cn` အသုံးပြုနိုင်သည်။

## ဖွဲ့စည်းမှုသိုလှောင်မှု ops ကိုပွားပါ။

```
git clone https://github.com/wactax/ops.soft.git
```

## သင့်ဒိုမိန်းအမည်အတွက် အခမဲ့ SSL လက်မှတ်ကို ဖန်တီးပါ။

စာပို့ခြင်းသည် ကုဒ်ဝှက်ခြင်းနှင့် လက်မှတ်ထိုးခြင်းအတွက် SSL လက်မှတ် လိုအပ်သည်။

လက်မှတ်များထုတ်ပေးရန် [acme.sh ကို](https://github.com/acmesh-official/acme.sh) အသုံးပြုသည်။

acme.sh သည် open source automated certificate signing tool တစ်ခုဖြစ်သည်။

configuration warehouse ops.soft၊ `./ssl.sh` run ပြီး **အထက် directory** တွင် `conf` folder တစ်ခုကို ဖန်တီးပါမည်။

သင်၏ DNS ဝန်ဆောင်မှုပေးသူကို [acme.sh dnsapi](https://github.com/acmesh-official/acme.sh/wiki/dnsapi) မှရှာပါ၊ `conf/conf.sh` ကိုတည်းဖြတ်ပါ။

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/Qjq1C1i.webp)

ထို့နောက် သင့်ဒိုမိန်းအမည်အတွက် `123.com` နှင့် `*.123.com` လက်မှတ်များထုတ်ပေးရန် `./ssl.sh 123.com` ဖွင့်ပါ။

ပထမဆုံး run သည် [acme.sh ကို](https://github.com/acmesh-official/acme.sh) အလိုအလျောက် ထည့်သွင်းပြီး အလိုအလျောက် သက်တမ်းတိုးရန်အတွက် စီစဉ်ထားသော လုပ်ဆောင်စရာတစ်ခုကို ပေါင်းထည့်ပါမည်။ `crontab -l` တွင် အောက်ပါအတိုင်း စာကြောင်းတစ်ကြောင်းပါရှိသည်။

```
52 0 * * * "/mnt/www/.acme.sh"/acme.sh --cron --home "/mnt/www/.acme.sh" > /dev/null
```

ထုတ်ပေးသည့် လက်မှတ်အတွက် လမ်းကြောင်းသည် `/mnt/www/.acme.sh/123.com_ecc。`

လက်မှတ်သက်တမ်းတိုးခြင်းသည် `conf/reload/123.com.sh` script ကိုခေါ်ဆိုမည်ဖြစ်ပြီး၊ ဤဇာတ်ညွှန်းကို တည်းဖြတ်ပါ၊ ဆက်စပ်အပလီကေးရှင်းများ၏ လက်မှတ် cache ကို ပြန်လည်စတင်ရန်အတွက် `nginx -s reload` ကဲ့သို့သော command များကို သင်ထည့်သွင်းနိုင်ပါသည်။

## chasquid ဖြင့် SMTP ဆာဗာကိုတည်ဆောက်ပါ။

[chasquid](https://github.com/albertito/chasquid) သည် Go ဘာသာစကားဖြင့် ရေးသားထားသော open source SMTP ဆာဗာတစ်ခုဖြစ်သည်။

Postfix နှင့် Sendmail ကဲ့သို့သော ရှေးခေတ်မေးလ်ဆာဗာပရိုဂရမ်များအတွက် အစားထိုးအနေဖြင့် chasquid သည် ပိုမိုရိုးရှင်းပြီး အသုံးပြုရပိုမိုလွယ်ကူသည့်အပြင် ၎င်းသည် ဆင့်ပွားဖွံ့ဖြိုးတိုးတက်မှုအတွက်လည်း ပိုမိုလွယ်ကူပါသည်။

`./chasquid/init.sh 123.com` ကလစ်တစ်ချက်နှိပ်ရုံဖြင့် အလိုအလျောက် ထည့်သွင်းသွားပါမည် (123.com ကို သင့်ပေးပို့သည့်ဒိုမိန်းအမည်ဖြင့် အစားထိုးပါ)။

## အီးမေးလ်လက်မှတ် DKIM ကို စီစဉ်သတ်မှတ်ပါ။

DKIM သည် စာများကို spam များအဖြစ် မမှတ်ယူခြင်းမှ ကာကွယ်ရန် အီးမေးလ် လက်မှတ်များကို ပေးပို့ရန် အသုံးပြုပါသည်။

အမိန့်ကို အောင်မြင်စွာ လုပ်ဆောင်ပြီးနောက်၊ DKIM မှတ်တမ်း (အောက်တွင် ပြထားသည့်အတိုင်း) သတ်မှတ်ရန် သင့်အား သတိပေးပါလိမ့်မည်။

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/LJWGsmI.webp)

သင်၏ DNS တွင် TXT မှတ်တမ်းတစ်ခုထည့်ရုံ (အောက်တွင်ပြထားသည့်အတိုင်း)။

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/0szKWqV.webp)

## ဝန်ဆောင်မှုအခြေအနေနှင့် မှတ်တမ်းများကို ကြည့်ရှုပါ။

 `systemctl status chasquid` ဝန်ဆောင်မှုအခြေအနေကြည့်ရှုပါ။

ပုံမှန်လည်ပတ်မှုအခြေအနေမှာ အောက်ပါပုံတွင်ပြထားသည့်အတိုင်းဖြစ်သည်။

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/CAwyY4E.webp)

 `grep chasquid /var/log/syslog` သို့မဟုတ် `journalctl -xeu chasquid` အမှားမှတ်တမ်းကို ကြည့်ရှုနိုင်သည်။

## ပြောင်းပြန် ဒိုမိန်းအမည် ဖွဲ့စည်းမှု

ပြောင်းပြန်ဒိုမိန်းအမည်သည် IP လိပ်စာကို သက်ဆိုင်ရာ ဒိုမိန်းအမည်ထံ ဖြေရှင်းခွင့်ပြုရန်ဖြစ်သည်။

ပြောင်းပြန်ဒိုမိန်းအမည်တစ်ခုသတ်မှတ်ခြင်းသည် အီးမေးလ်များကို spam အဖြစ်သတ်မှတ်ခြင်းမှတားဆီးနိုင်သည်။

မေးလ်ကို လက်ခံရရှိသောအခါ၊ လက်ခံရရှိသည့်ဆာဗာသည် ပေးပို့ခြင်းဆာဗာ၏ IP လိပ်စာတွင် ပြောင်းပြန်ဒိုမိန်းအမည်ခွဲခြမ်းစိတ်ဖြာမှုကို လုပ်ဆောင်မည်ဖြစ်ပြီး ပေးပို့သည့်ဆာဗာတွင် တရားဝင်ပြောင်းပြန်ဒိုမိန်းအမည်ရှိမရှိကို အတည်ပြုမည်ဖြစ်သည်။

ပေးပို့သည့်ဆာဗာတွင် ပြောင်းပြန်ဒိုမိန်းအမည်မရှိပါက သို့မဟုတ် ပြောင်းပြန်ဒိုမိန်းအမည်သည် ပေးပို့သည့်ဆာဗာ၏ IP လိပ်စာနှင့် မကိုက်ညီပါက လက်ခံရရှိသည့်ဆာဗာသည် အီးမေးလ်ကို စပမ်းအဖြစ် အသိအမှတ်ပြုနိုင်သည် သို့မဟုတ် ငြင်းပယ်နိုင်သည်။

[https://my.contabo.com/rdns](https://my.contabo.com/rdns) သို့ဝင်ရောက်ပြီး အောက်တွင်ပြထားသည့်အတိုင်း configure လုပ်ပါ။

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/IIPdBk_.webp)

ပြောင်းပြန် ဒိုမိန်းအမည်ကို သတ်မှတ်ပြီးနောက်၊ ဆာဗာသို့ ဒိုမိန်းအမည် ipv4 နှင့် ipv6 တို့၏ ရှေ့ဆက်ပြတ်သားမှုကို သတ်မှတ်ရန် မမေ့ပါနှင့်။

## chasquid.conf ၏ hostname ကို တည်းဖြတ်ပါ။

ပြောင်းပြန်ဒိုမိန်းအမည်၏တန်ဖိုးသို့ `conf/chasquid/chasquid.conf` မွမ်းမံပါ။

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/6Fw4SQi.webp)

ထို့နောက်ဝန်ဆောင်မှုကိုပြန်လည်စတင်ရန် `systemctl restart chasquid` ဖွင့်ပါ။

## git repository သို့ conf ကို အရန်သိမ်းပါ။

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/Fier9uv.webp)

ဥပမာအားဖြင့်၊ ကျွန်ုပ်သည် အောက်ပါအတိုင်း ကျွန်ုပ်၏ကိုယ်ပိုင် github လုပ်ငန်းစဉ်တွင် conf ဖိုဒါကို အရန်ကူးထားသည်။

ကိုယ်ပိုင်ဂိုဒေါင်တစ်ခု အရင်ဖန်တီးပါ။

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/ZSCT1t1.webp)

conf လမ်းညွှန်ကို ထည့်သွင်းပြီး သိုလှောင်ရုံသို့ တင်ပြပါ။

```
git init
git add .
git commit -m "init"
git branch -M main
git remote add origin git@github.com:wac-tax-key/conf.git
git push -u origin main
```

## ပေးပို့သူ ထည့်ပါ။

ပြေး

```
chasquid-util user-add i@wac.tax
```

ပေးပို့သူထည့်နိုင်သည်။

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/khHjLof.webp)

### စကားဝှက်ကို မှန်ကန်စွာသတ်မှတ်ထားကြောင်း စစ်ဆေးပါ။

```
chasquid-util authenticate i@wac.tax --password=xxxxxxx
```

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/e92JHXq.webp)

အသုံးပြုသူကို ပေါင်းထည့်ပြီးနောက်၊ `chasquid/domains/wac.tax/users` အပ်ဒိတ်လုပ်မည်ဖြစ်ပြီး ၎င်းကို ဂိုဒေါင်သို့ တင်သွင်းရန် မမေ့ပါနှင့်။

## DNS တွင် SPF မှတ်တမ်းထည့်ပါ။

SPF (Sender Policy Framework) သည် အီးမေးလ်လိမ်လည်မှုကို တားဆီးရန် အသုံးပြုသည့် အီးမေးလ်အတည်ပြုနည်းပညာတစ်ခုဖြစ်သည်။

၎င်းသည် ပေးပို့သူ၏ IP လိပ်စာသည် ၎င်းတွင်ဖော်ပြထားသော ဒိုမိန်းအမည်၏ DNS မှတ်တမ်းများနှင့် ကိုက်ညီမှုရှိမရှိ စစ်ဆေးခြင်းဖြင့် အီးမေးလ်ပေးပို့သူ၏အထောက်အထားကို စစ်ဆေးပြီး လိမ်လည်သူများကို အီးမေးလ်အတုများပေးပို့ခြင်းမှ ကာကွယ်ပေးပါသည်။

SPF မှတ်တမ်းများကို ထည့်ခြင်းဖြင့် အီးမေးလ်များကို spam အဖြစ် သတ်မှတ်ခြင်းမှ တတ်နိုင်သမျှ တားဆီးနိုင်သည်။

သင့်ဒိုမိန်းအမည်ဆာဗာသည် SPF အမျိုးအစားကို မပံ့ပိုးပါက TXT အမျိုးအစား မှတ်တမ်းကို ပေါင်းထည့်ပါ။

ဥပမာအားဖြင့် `wac.tax` ၏ SPF သည် အောက်ပါအတိုင်းဖြစ်သည်။

`v=spf1 a mx include:_spf.wac.tax include:_spf.google.com ~all`

`_spf.wac.tax` အတွက် SPF

`v=spf1 a:smtp.wac.tax ~all`

ကျွန်ုပ်တွင် ဤနေရာတွင် `include:_spf.google.com` ကို သတိပြုပါ၊ ၎င်းမှာ `i@wac.tax` နောက်ပိုင်းတွင် Google စာတိုက်ပုံးရှိ ပေးပို့လိပ်စာအဖြစ် သတ်မှတ်ပေးမည်ဖြစ်သောကြောင့် ဖြစ်ပါသည်။

## DNS ဖွဲ့စည်းမှု DMARC

DMARC သည် (Domain-based Message Authentication, Reporting & Conformance) ၏ အတိုကောက်ဖြစ်သည်။

SPF bounces များကို ဖမ်းယူရန် ၎င်းကို အသုံးပြုသည် (ဖွဲ့စည်းပုံ အမှားအယွင်းများကြောင့် ဖြစ်နိုင်သည်၊ သို့မဟုတ် တစ်စုံတစ်ဦးသည် သင်စပမ်းပို့ရန် ဟန်ဆောင်နေသည်)။

TXT မှတ်တမ်း `_dmarc` ကိုထည့်ပါ၊

အကြောင်းအရာမှာ အောက်ပါအတိုင်းဖြစ်သည်။

```
v=DMARC1; p=quarantine; fo=1; ruf=mailto:ruf@wac.tax; rua=mailto:rua@wac.tax
```

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/k44P7O3.webp)

Parameter တစ်ခုစီ၏ အဓိပ္ပါယ်မှာ အောက်ပါအတိုင်းဖြစ်သည်။

### p (မူဝါဒ)

SPF (Sender Policy Framework) သို့မဟုတ် DKIM (DomainKeys Identified Mail) အတည်ပြုခြင်း မအောင်မြင်သော အီးမေးလ်များကို ကိုင်တွယ်နည်းကို ညွှန်ပြသည်။ p parameter ကို တန်ဖိုးသုံးမျိုးထဲမှ တစ်ခုကို သတ်မှတ်နိုင်သည်။

* မရှိ- အရေးယူဆောင်ရွက်ခြင်းမရှိပါ၊ အီးမေးလ်အစီရင်ခံမှုယန္တရားမှတစ်ဆင့် ပေးပို့သူထံ အတည်ပြုချက်ရလဒ်ကိုသာ ပြန်လည်ပေးပို့သည်။
* Quarantine- အတည်ပြုခြင်းမအောင်မြင်သောမေးလ်ကို spam ဖိုင်တွဲတွင်ထည့်ပါ၊ သို့သော် မေးလ်ကို တိုက်ရိုက်ငြင်းပယ်မည်မဟုတ်ပါ။
* ငြင်းပယ်ခြင်း- အတည်ပြုခြင်း မအောင်မြင်သော အီးမေးလ်များကို တိုက်ရိုက် ငြင်းပယ်ပါ။

### fo (Failure Options)

အစီရင်ခံခြင်း ယန္တရားမှ ပြန်ပေးသည့် အချက်အလက်ပမာဏကို သတ်မှတ်သည်။ ၎င်းကို အောက်ပါတန်ဖိုးများထဲမှ တစ်ခုအဖြစ် သတ်မှတ်နိုင်သည်။

* 0- မက်ဆေ့ဂျ်အားလုံးအတွက် တရားဝင်ရလဒ်များကို အစီရင်ခံပါ။
* 1- အတည်ပြုခြင်းပျက်ကွက်သော စာတိုများကိုသာ သတင်းပို့ပါ။
* ဃ- ဒိုမိန်းအမည် အတည်ပြုခြင်း မအောင်မြင်မှုများကိုသာ သတင်းပို့ပါ။
* s- SPF အတည်ပြုခြင်း မအောင်မြင်မှုများကိုသာ သတင်းပို့ပါ။
* l- DKIM အတည်ပြုခြင်း မအောင်မြင်မှုများကိုသာ သတင်းပို့ပါ။

### rua & ruf

* rua (အစုလိုက်အစီရင်ခံချက်များအတွက် URI အစီရင်ခံခြင်း): စုစည်းထားသောအစီရင်ခံစာများလက်ခံရရှိရန်အတွက် အီးမေးလ်လိပ်စာ
* ruf (မှုခင်းဆိုင်ရာအစီရင်ခံစာများအတွက် URI အစီရင်ခံခြင်း): အသေးစိတ်အစီရင်ခံစာများလက်ခံရရှိရန်အီးမေးလ်လိပ်စာ

## အီးမေးလ်များကို Google Mail သို့ပေးပို့ရန် MX မှတ်တမ်းများထည့်ပါ။

universal addresses များကို ပံ့ပိုးပေးသည့် အခမဲ့ကော်ပိုရိတ်စာတိုက်ပုံးကို ကျွန်ုပ် ရှာမတွေ့သောကြောင့် (Catch-All၊ ဤဒိုမိန်းအမည်သို့ ပေးပို့သည့် မည်သည့်အီးမေးလ်များကိုမဆို လက်ခံရရှိနိုင်ပြီး၊ ရှေ့ဆက်များတွင် ကန့်သတ်ချက်များမရှိဘဲ) ကျွန်ုပ်၏ Gmail စာတိုက်ပုံးသို့ အီးမေးလ်များအားလုံးကို ပေးပို့ရန် chasquid ကို အသုံးပြုခဲ့သည်။

**သင့်တွင် ကိုယ်ပိုင်အခပေးလုပ်ငန်းသုံး စာတိုက်ပုံးရှိလျှင် ကျေးဇူးပြု၍ MX ကို မွမ်းမံပြီး ဤအဆင့်ကို ကျော်သွားပါ။**

`conf/chasquid/domains/wac.tax/aliases` တည်းဖြတ်ပါ၊ ထပ်ဆင့်ပို့သည့် စာတိုက်ပုံးကို သတ်မှတ်ပါ

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/OBDl2gw.webp)

`*` အီးမေးလ်အားလုံးကို ညွှန်ပြသည်၊ `i` သည် အထက်တွင် ဖန်တီးထားသော ပေးပို့အသုံးပြုသူ၏ အီးမေးလ်လိပ်စာ ရှေ့ဆက်ဖြစ်သည်။ မေးလ်ကို ထပ်ဆင့်ပို့ရန်၊ အသုံးပြုသူတစ်ဦးစီသည် လိုင်းတစ်ခုထည့်ရန် လိုအပ်သည်။

ထို့နောက် MX မှတ်တမ်းကို ထည့်ပါ (အောက်ပါပုံတွင် ပြထားသည့် ပထမစာကြောင်းတွင် ပြထားသည့်အတိုင်း ဤနေရာတွင် ပြောင်းပြန်ဒိုမိန်းအမည်၏ လိပ်စာကို တိုက်ရိုက်ညွှန်ပြသည်)။

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/7__KrU8.webp)

ပြင်ဆင်သတ်မှတ်မှု ပြီးပါက၊ သင်သည် Gmail တွင် အီးမေးလ်များ လက်ခံရရှိခြင်း ရှိ၊ မရှိ ကြည့်ရှုရန် `i@wac.tax` နှင့် `any123@wac.tax` သို့ အီးမေးလ်များ ပေးပို့ရန် အခြား အီးမေးလ်လိပ်စာများကို အသုံးပြုနိုင်ပါသည်။

မဟုတ်ပါက၊ chasquid မှတ်တမ်း ( `grep chasquid /var/log/syslog` ) ကိုစစ်ဆေးပါ။

## Google Mail ဖြင့် i@wac.tax သို့ အီးမေးလ်ပို့ပါ။

Google Mail သည် မေးလ်ကို လက်ခံရရှိပြီးနောက်၊ i.wac.tax@gmail.com အစား `i@wac.tax` ဖြင့် စာပြန်ရန် သဘာဝကျကျ မျှော်လင့်ပါသည်။

[https://mail.google.com/mail/u/1/#settings/accounts](https://mail.google.com/mail/u/1/#settings/accounts) သို့ဝင်ရောက်ပြီး "အခြားအီးမေးလ်လိပ်စာထည့်ပါ" ကိုနှိပ်ပါ။

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/PAvyE3C.webp)

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/_OgLsPT.webp)

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/XIUf6Dc.webp)

ထို့နောက် ထပ်ဆင့်ပေးပို့ထားသည့် အီးမေးလ်မှ လက်ခံရရှိသည့် အတည်ပြုကုဒ်ကို ထည့်သွင်းပါ။

နောက်ဆုံးတွင်၊ ၎င်းအား မူရင်းပေးပို့သူလိပ်စာ (တူညီသောလိပ်စာဖြင့် စာပြန်ရန်ရွေးချယ်မှုနှင့်အတူ) သတ်မှတ်နိုင်သည်။

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/a95dO60.webp)

ဤနည်းအားဖြင့်၊ ကျွန်ုပ်တို့သည် SMTP မေးလ်ဆာဗာကို တည်ထောင်ခြင်း ပြီးမြောက်ပြီး တစ်ချိန်တည်းတွင် အီးမေးလ်များ ပေးပို့ခြင်းနှင့် လက်ခံရန် Google Mail ကို အသုံးပြုပါသည်။

## စီစဉ်သတ်မှတ်မှု အောင်မြင်ခြင်းရှိမရှိ စစ်ဆေးရန် စမ်းသပ်အီးမေးလ်တစ်စောင် ပေးပို့ပါ။

`ops/chasquid` ထည့်ပါ။

မှီခိုမှုထည့်သွင်း `direnv allow` run ပါ (direnv ကို ယခင်သော့တစ်ခုတည်းကနဦးလုပ်ဆောင်ခြင်းလုပ်ငန်းစဉ်တွင် ထည့်သွင်းထားပြီး၊ ချိတ်ကို shell တွင် ထည့်ထားသည်)

ပြီးရင် run လိုက်ပါ။

```
user=i@wac.tax pass=xxxx to=iuser.link@gmail.com ./sendmail.coffee
```

Parameter များ၏ အဓိပ္ပါယ်မှာ အောက်ပါအတိုင်းဖြစ်သည်။

* အသုံးပြုသူ- SMTP အသုံးပြုသူအမည်
* pass- SMTP စကားဝှက်
* to: လက်ခံသူ

သင်စမ်းသပ်အီးမေးလ်ပေးပို့နိုင်ပါသည်။

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/ae1iWyM.webp)

စီစဉ်သတ်မှတ်မှုများ အောင်မြင်မှုရှိမရှိ စစ်ဆေးရန် စမ်းသပ်အီးမေးလ်များကို လက်ခံရရှိရန် Gmail ကို အသုံးပြုရန် အကြံပြုထားသည်။

### TLS စံကုဒ်ဝှက်ခြင်း

အောက်တွင်ဖော်ပြထားသောပုံတွင်ပြထားသည့်အတိုင်း၊ ဤသေးငယ်သောသော့ပါရှိသည်၊ ဆိုလိုသည်မှာ SSL လက်မှတ်ကိုအောင်မြင်စွာဖွင့်ထားခြင်းဖြစ်သည်။

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/SrdbAwh.webp)

ထို့နောက် "မူရင်းအီးမေးလ်ကိုပြသပါ" ကိုနှိပ်ပါ။

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/qQQsdxg.webp)

### DKIM

အောက်ပါပုံတွင်ပြထားသည့်အတိုင်း၊ Gmail မူရင်းမေးလ်စာမျက်နှာသည် DKIM ကိုပြသသည်၊ ဆိုလိုသည်မှာ DKIM ဖွဲ့စည်းမှုအောင်မြင်သည်ဟု ဆိုလိုသည်။

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/an6aXK6.webp)

မူရင်းအီးမေးလ်၏ ခေါင်းစီးတွင် လက်ခံရရှိသည်ကို စစ်ဆေးပါ၊ ပေးပို့သူလိပ်စာမှာ IPV6 ဖြစ်ပြီး၊ ဆိုလိုသည်မှာ IPV6 ကိုလည်း အောင်မြင်စွာ စီစဉ်သတ်မှတ်ထားကြောင်း သင်တွေ့နိုင်ပါသည်။
